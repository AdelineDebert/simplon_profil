<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>barre de prog</title>
  </head>
  <body onload="test()">
    <script>
    function test(){
      var mesDonnees = new Object();
      mesDonnees.HTML = "6";
      mesDonnees.CSS = "3";
      mesDonnees.JS = "4";
      mesDonnees.PHP = "5";

      barreDeProg(mesDonnees);

    }

    function barreDeProg(obj){
      console.log(obj);

      var divContainer = document.createElement("div");
      document.body.appendChild(divContainer);


      for (var language in obj){

        console.log(language);

        var divBarreContainer = document.createElement("div");
        var truc = divBarreContainer.innerHTML = language;
        divContainer.appendChild(divBarreContainer);

        var divBarre = document.createElement("div");
        divBarre.style.background = "red";
        divBarre.style.width = "100px";
        divBarre.style.height = "10px";


        divBarreContainer.appendChild(divBarre);

        var longueurDivBarre = divBarre.style.width.slice(0, 3);
        console.log(longueurDivBarre);

        console.log(obj[language]);

        var divProgression = document.createElement("div");
        divProgression.style.height = "10px";
        divProgression.style.background = "green";

        switch (obj[language]){
          case "1":
          divProgression.style.width = longueurDivBarre / 5 + "px";
          console.log("niveau faible");
          break;

          case "2":
          divProgression.style.width = longueurDivBarre / 4 + "px";
          console.log("niveau pas ouf");
          break;

          case "3":
          divProgression.style.width = longueurDivBarre / 3 + "px";
          console.log("niveau moyen");
          break;

          case "4":
          divProgression.style.width = longueurDivBarre / 2 + "px";
          console.log("niveau bon");
          break;

          case "5":
          divProgression.style.width = longueurDivBarre + "px";
          console.log("maitrise");
          break;
        }

        divBarre.appendChild(divProgression);

      }
    }



    </script>
  </body>
</html>
